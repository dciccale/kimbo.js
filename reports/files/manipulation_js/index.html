<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - manipulation.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>manipulation.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">75.48</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">485</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">36.96</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">1.48</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">Kimbo.define(&#039;manipulation&#039;, function (_) {

  &#039;use strict&#039;;

  var SPACE_RE = /\s+/;

  var BOOLEAN_ATTR = {};
  Kimbo.forEach([&#039;multiple&#039;, &#039;selected&#039;, &#039;checked&#039;, &#039;disabled&#039;, &#039;readOnly&#039;, &#039;required&#039;, &#039;open&#039;],
    function (value) {
      BOOLEAN_ATTR[value.toLowerCase()] = value;
    });

  // Browser native classList
  function _hasClass(el, name) {
    return (el.nodeType === 1 &amp;&amp; el.classList.contains(name));
  }

  /*\
   * $(…).text
   [ method ]
   * Get the text of the first element in the set or set the text of all the matched elements.
   &gt; Parameters
   - value (string) #optional A string of text to set as the text content of all matched elements.
   = (string) string value of the text content of the element if no parameter passed.
   = (object) current Kimbo object.
   &gt; Usage
   * Get the text content of an element
   | &lt;p&gt;Demo text&lt;/p&gt;
   * without passing any parameter to the function:
   | $(&#039;p&#039;).text(); // &#039;Demo text&#039;
   * To replace the text of the paragraph pass a string parameter to the function:
   | $(&#039;p&#039;).text(&#039;Another text&#039;);
   * Now the text content was replaced:
   | &lt;p&gt;Another text&lt;/p&gt;
  \*/

  /*\
   * $(…).html
   [ method ]
   * Get the HTML content of the first element in the set or set the HTML content of all the matched elements.
   &gt; Parameters
   - value (string) #optional A string of HTML to set as the HTML content of all matched elements.
   = (string) a string value of the HTML content of the element if no parameter passed.
   = (object) current Kimbo object.
   &gt; Usage
   * Get the HTML content of an element
   | &lt;p&gt;&lt;span&gt;Demo text&lt;span&gt;&lt;/p&gt;
   * without passing any parameter to the function:
   | $(&#039;p&#039;).html(); // &#039;&lt;span&gt;Demo tetxt&lt;/span&gt;&#039;
   * To replace the HTML content of the paragraph pass a string parameter to the function:
   | $(&#039;p&#039;).html(&#039;&lt;strong&gt;Another content&lt;/strong&gt;&#039;);
   * Now the text content was replaced:
   | &lt;p&gt;&lt;strong&gt;Another content&lt;/strong&gt;&lt;/p&gt;
  \*/

  /*\
   * $(…).val
   [ method ]
   * Get the current value of the first element in the set or set the value of all the matched elements.
   &gt; Parameters
   - value (string) #optional A string of text to set as the value of all matched elements.
   = (string) the current value of the first element if no parameter passed
   = (object) current Kimbo object
   &gt; Usage
   * Get the value of a form element:
   | &lt;input type=&quot;text&quot; name=&quot;color&quot; value=&quot;red&quot; /&gt;
   * without passing any parameter to the function:
   | $(&#039;input&#039;).val(); // &#039;red&#039;
   * To change the value of the input pass a string parameter to the function:
   | $(&#039;input&#039;).val(&#039;blue&#039;);
   * Now the value was changed:
   | $(&#039;input&#039;).val(); // &#039;blue&#039;
  \*/
  Kimbo.forEach({
    text: &#039;textContent&#039;,
    html: &#039;innerHTML&#039;,
    val: &#039;value&#039;
  }, function (method, prop) {
    Kimbo.fn[method] = function (value) {
      // TODO: If we are using html method make sure to remove events and data from all chilNnodes

      // No element
      if (!this.length) {
        return undefined;
      }

      // Get
      if (value === undefined) {
        return this[0][prop];

        // Set
      } else {
        return this.each(function (el) {
          el[prop] = value;
        });
      }
    };
  });

  /*\
   * $(…).addClass
   [ method ]
   * Adds a class to all matched elements.
   &gt; Parameters
   - name (string) Name of the class to add.
   = (object) Original matched collection.
   &gt; Usage
   | &lt;p&gt;I want to be green&lt;/p&gt;
   | &lt;script&gt;
   | $(&#039;p&#039;).addClass(&#039;green&#039;);
   | &lt;/script&gt;
   * Now it&#039;s green
   | &lt;p class=&quot;green&quot;&gt;I want to be green&lt;/p&gt;
   * You can add multiple classes separated by a space
   | &lt;p&gt;Add classes to me&lt;/p&gt;
   | &lt;script&gt;
   | $(&#039;p&#039;).addClass(&#039;green big width100&#039;);
   | &lt;/script&gt;
   * All classes added and they won&#039;t be repetead if you try to add an existing one
   | &lt;p class=&quot;green big width100&quot;&gt;Add classes to me&lt;/p&gt;
  \*/

  /*\
   * $(…).removeClass
   [ method ]
   * Removes a class to all matched elements.
   &gt; Parameters
   - name (string) Name of the class to remove.
   = (object) Original matched collection.
   &gt; Usage
   | &lt;p class=&quot;big green title float-rigth&quot;&gt;Lorem ipsum&lt;/p&gt;
   * Remove a specific class from the paragraph:
   | $(&#039;p&#039;).removeClass(&#039;green&#039;);
   * The specified class was removed:
   | &lt;p class=&quot;big title float-right&quot;&gt;Lorem ipsum&lt;/p&gt;
   * You can remove multiple classes separating them by a space when calling the function:
   | $(&#039;p&#039;).removeClass(&#039;big title&#039;);
   * Now only one class left:
   | &lt;p class=&quot;float-right&quot;&gt;Lorem ipsum&lt;/p&gt;
   * You can remove all classes just calling .removeClass() without parameters
   | $(&#039;p&#039;).removeClass();
   * All classes were removed including the class attribute:
   | &lt;p&gt;Lorem ipsum&lt;/p&gt;
  \*/

  // Generate addClass and removeClass methods
  // Use native classList
  // Mdn: https://developer.mozilla.org/en-US/docs/DOM/element.classList
  // Spec: http://www.whatwg.org/specs/web-apps/current-work/multipage/elements.html#dom-classlist
  Kimbo.forEach([&#039;add&#039;, &#039;remove&#039;], function (method) {
    var isRemove = method === &#039;remove&#039;;

    Kimbo.fn[method + &#039;Class&#039;] = function (name) {
      var classNames;

      if (name &amp;&amp; Kimbo.isString(name)) {
        classNames = name.split(SPACE_RE);
        this.each(function (el) {

          // Skip comments, text, etc
          if (el.nodeType === 1) {

            // Iterate through all class names passed
            Kimbo.forEach(classNames, function (className) {
              el.classList[method](className);
            });
          }
        });

        // Remove all element classes if no classname specified
      } else if (!name &amp;&amp; isRemove) {
        this.removeAttr(&#039;class&#039;);
      }

      return this;
    };
  });

  /*\
   * $(…).append
   [ method ]
   * Insert content to the end of all elements matched by Kimbo.
   &gt; Parameters
   - value (string|object) HTML string, DOM element, or Kimbo object to insert.
   = (object) Original matched collection.
   &gt; Usage
   | &lt;div class=&quot;container&quot;&gt;
   |   &lt;p class=&quot;lorem&quot;&gt;Lorem &lt;/p&gt;
   |   &lt;p class=&quot;lorem&quot;&gt;Lorem &lt;/p&gt;
   | &lt;/div&gt;
   * Insert content
   | $(&#039;.lorem&#039;).append(&#039;&lt;em&gt;ipsum&lt;/em&gt;&#039;)
   * Each element gets the content
   | &lt;div class=&quot;container&quot;&gt;
   |   &lt;p class=&quot;lorem&quot;&gt;Lorem &lt;em&gt;ipsum&lt;/em&gt;&lt;/p&gt;
   |   &lt;p class=&quot;lorem&quot;&gt;Lorem &lt;em&gt;ipsum&lt;/em&gt;&lt;/p&gt;
   | &lt;/div&gt;
   * You can also get an element and insert it elsewhere
   | $(&#039;.container&#039;).append($(&#039;.ipsum&#039;))
   * The selected element will be moved, not cloned.
   | &lt;div class=&quot;container&quot;&gt;
   |   &lt;p class=&quot;lorem&quot;&gt;Lorem&lt;/p&gt;
   |   &lt;p class=&quot;lorem&quot;&gt;Lorem&lt;/p&gt;
   |   &lt;p class=&quot;ipsum&quot;&gt;Ipsum&lt;/p&gt;
   | &lt;/div&gt;
  \*/

  /*\
   * $(…).prepend
   [ method ]
   * Insert content to the beginning of all elements matched by Kimbo.
   &gt; Parameters
   - value (string|object) HTML string, DOM element, or Kimbo object to insert.
   = (object) Original matched collection.
   &gt; Usage
   | &lt;div class=&quot;container&quot;&gt;
   |   &lt;p class=&quot;lorem&quot;&gt; Lorem&lt;/p&gt;
   |   &lt;p class=&quot;lorem&quot;&gt; Lorem&lt;/p&gt;
   | &lt;/div&gt;
   * Insert content
   | $(&#039;.lorem&#039;).prepend(&#039;&lt;em&gt;ipsum&lt;/em&gt;&#039;)
   * Each element gets the content
   | &lt;div class=&quot;container&quot;&gt;
   |   &lt;p class=&quot;lorem&quot;&gt;&lt;em&gt;ipsum&lt;/em&gt; Lorem&lt;/p&gt;
   |   &lt;p class=&quot;lorem&quot;&gt;&lt;em&gt;ipsum&lt;/em&gt; Lorem&lt;/p&gt;
   | &lt;/div&gt;
   * You can also get an element and insert it elsewhere
   | $(&#039;.container&#039;).prepend($(&#039;.ipsum&#039;))
   * The selected element will be moved, not cloned.
   | &lt;div class=&quot;container&quot;&gt;
   |   &lt;p class=&quot;ipsum&quot;&gt;Ipsum&lt;/p&gt;
   |   &lt;p class=&quot;lorem&quot;&gt;Lorem&lt;/p&gt;
   |   &lt;p class=&quot;lorem&quot;&gt;Lorem&lt;/p&gt;
   | &lt;/div&gt;
  \*/

  // Generate append and prepend methods
  Kimbo.forEach([&#039;append&#039;, &#039;prepend&#039;], function (method) {
    var isPrepend = method === &#039;prepend&#039;;

    Kimbo.fn[method] = function (value) {
      var div;

      // Exit if no set or value passed
      if (!this.length || !value) {
        return this;
      }

      // Handle html string
      if (Kimbo.isString(value)) {

        // Placeholder element
        div = document.createElement(&#039;div&#039;);
        div.innerHTML = value.trim();
        value = div.firstChild;
      }

      // Already a dom node or kimbo collection, just insert it
      if (value.nodeType || (value instanceof Kimbo)) {
        return this.each(function (el) {

          // Be sure we can append/prepend to the element
          if (el.nodeType === 1 || el.nodeType === 11) {
            _.kimbo(value).each(function (child) {
              el.insertBefore(child, isPrepend ? el.firstChild : null);
            });
          }
        });
      }
    };
  });

  Kimbo.fn.extend({
    /*\
     * $(…).empty
     [ method ]
     * Remove all child nodes from the DOM of the elements in the collection.
     = (object) Original matched collection.
     &gt; Usage
     | &lt;div class=&quot;container&quot;&gt;
     |   &lt;p class=&quot;lorem&quot;&gt;Lorem&lt;/p&gt;
     |   &lt;p class=&quot;lorem&quot;&gt;Lorem&lt;/p&gt;
     | &lt;/div&gt;
     * Empty .container
     | $(&#039;.container&#039;).empty();
     * All elements inside &quot;.container&quot; are removed from the DOM
     | &lt;div class=&quot;container&quot;&gt;&lt;/div&gt;
    \*/
    empty: function () {
      return this.each(function (el) {
        while (el.hasChildNodes()) {
          el.removeChild(el.childNodes[0]);
        }
      });
    },

    /*\
     * $(…).remove
     [ method ]
     * Remove all matched elements from the DOM.
     * Similar to @$(…).empty but .remove() removes the element itself
     = (object) Original matched collection.
     &gt; Usage
     | &lt;div class=&quot;container&quot;&gt;
     |   &lt;p class=&quot;lorem&quot;&gt;Lorem&lt;/p&gt;
     |   &lt;p&gt;Lorem&lt;/p&gt;
     | &lt;/div&gt;
     * Remove one element
     | $(&#039;.lorem&#039;).remove();
     * The result element is:
     | &lt;div class=&quot;container&quot;&gt;
     |   &lt;p&gt;Lorem&lt;/p&gt;
     | &lt;/div&gt;
    \*/
    remove: function () {
      return this.each(function (el) {
        if (el.parentNode) {
          el.parentNode.removeChild(el);
        }
      });
    },

    // Todo: extend to accept objects and functions to set values
    /*\
     * $(…).attr
     [ method ]
     * Get an attribute value from one element or set attributes to all matched elements.
     &gt; Parameters
     - name (string) Name of the attribute.
     - value (string) #optional Value for the attribute.
     = (string) Attribute value, only if name was passed.
     = (object) Original matched collection when setting a value.
     &gt; Usage
     | &lt;a href=&quot;http://kimbojs.com&quot;&gt;Go to Kimbojs.com&lt;/a&gt;
     * Get href attribute
     | $(&#039;a&#039;).attr(&#039;href&#039;); // Http://kimbojs.com
     * Set a new attribute
     | $(&#039;a&#039;).attr(&#039;title&#039;, &#039;Go to Kimbojs.com&#039;);
     * Now element has a title attribute
     | &lt;a href=&quot;http://kimbojs.com&quot; title=&quot;Go to Kimbojs.com&quot;&gt;Go to Kimbojs.com&lt;/a&gt;
    \*/
    attr: function (name, value) {
      var lowercasedName = name.toLowerCase();
      var el = this[0];

      if (!this.length) {
        return this;
      }

      if (Kimbo.isString(name) &amp;&amp; value === undefined) {
        if (BOOLEAN_ATTR[lowercasedName]) {
          return (el[name] || (el.attributes.getNamedItem(name)|| {}).specified) ? lowercasedName : undefined;
        }
        return el.getAttribute(name);
      } else {
        return this.each(function (el) {
          if (BOOLEAN_ATTR[lowercasedName]) {
            if (!!value) {
              el[name] = true;
              el.setAttribute(name, lowercasedName);
            } else {
              el[name] = false;
              el.removeAttribute(name);
            }
          } else {
            el.setAttribute(name, value);
          }
        });
      }
    },

    /*\
     * $(…).removeAttr
     [ method ]
     * Removes an attribute from all matched elements.
     &gt; Parameters
     - name (string) Name of the attribute to remove.
     = (object) Original matched collection.
     &gt; Usage
     | &lt;a href=&quot;http://kimbojs.com&quot; title=&quot;Go to Kimbojs.com&quot;&gt;Go to Kimbojs.com&lt;/a&gt;
     * Remove the title attribute
     | $(&#039;a&#039;).removeAttr(&#039;title&#039;);
     * Now the element has no title
     | &lt;a href=&quot;http://kimbojs.com&quot;&gt;Go to Kimbojs.com&lt;/a&gt;
    \*/
    removeAttr: function (name) {
      return this.each(function (el) {
        el.removeAttribute(name);
      });
    },

    /*\
     * $(…).toggleClass
     [ method ]
     * Removes a class to all matched elements.
     &gt; Parameters
     - name (string) Name of the class to toggle.
     - state (boolean) #optional If state is true the class will be added, if false, removed.
     = (object) Original matched collection.
     &gt; Usage
     | &lt;p class=&quot;foo&quot;&gt;Lorem ipsum.&lt;/p&gt;
     | &lt;script&gt;
     | $(&#039;p&#039;).toggleClass(&#039;foo&#039;);
     | &lt;/script&gt;
     * The `p` element has the class foo soo it will be removed
     | &lt;p&gt;Lorem ipsum.&lt;/p&gt;
    \*/
    toggleClass: function (name, state) {
      var classNames;

      if (this.length &amp;&amp; name &amp;&amp; Kimbo.isString(name)) {

        classNames = name.split(SPACE_RE);

        this.each(function (el) {
          Kimbo.forEach(classNames, function (name) {

            // Use custom toggle (anyway it uses classList.add/remove)
            state = Kimbo.isBoolean(state) ? state : !_hasClass(el, name);
            _.kimbo(el)[state ? &#039;addClass&#039; : &#039;removeClass&#039;](name);
          });
        });
      }

      return this;
    },

    /*\
     * $(…).hasClass
     [ method ]
     * Determine whether any matched elements has the given class.
     &gt; Parameters
     - name (string) Name of the class to search for.
     = (object) Original matched collection.
     &gt; Usage
     | &lt;p class=&quot;asd foo qwe&quot;&gt;Lorem ipsum.&lt;/p&gt;
     * Check if the element has the class &#039;foo&#039;
     | $(&#039;p&#039;).hasClass(&#039;foo&#039;); // True
     * You could also check if it has multiple classes
     | $(&#039;p&#039;).hasClass(&#039;qwe asd&#039;); // True
    \*/
    hasClass: function (name) {
      var has = false;
      var classNames;

      if (this.length &amp;&amp; name &amp;&amp; Kimbo.isString(name)) {

        classNames = name.trim().split(SPACE_RE);

        this.each(function (el) {

          // Classlist.contains only accepts one class parameter
          Kimbo.forEach(classNames, function (name) {
            has = _hasClass(el, name);

            // When only one is missing break the loop
            if (!has) {
              return false;
            }
          });
        });
      }

      return has;
    },

    /*\
     * $(…).clone
     [ method ]
     * Clones a DOM node.
     &gt; Parameters
     = (object) Original matched collection.
     &gt; Usage
     | &lt;p class=&quot;asd foo qwe&quot;&gt;Lorem ipsum.&lt;/p&gt;
     | var p1 = $(&#039;p&#039;); // Grab the p element
     | var p2 = p1.clone(); // Clone p1 into p2
     | console.log(p2 === p1); // False
    \*/
    clone: function () {
      return this.each(function (el) {
        return el.cloneNode(true);
      });
    }
  });
});</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
