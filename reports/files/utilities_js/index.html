<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - utilities.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>utilities.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">72.70</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">381</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">26.15</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">1.18</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">Kimbo.define(&#039;utilities&#039;, function (_) {

  &#039;use strict&#039;;

  // Mobile userAgent escaped regexes
  var ANDROID_RE = &#039;(Android)\\s+([\\d.]+)&#039;;
  var BLACKBERRY_RE = &#039;(BlackBerry|BB10|Playbook).*Version\/([\\d.]+)&#039;;
  var FIREFOXOS_RE = &#039;(Mozilla).*Mobile[^\/]*\/([\\d.]*)&#039;;
  var IPAD_RE = &#039;(iPad).*OS\\s([\\d_]+)&#039;;
  var IPHONE_RE = &#039;(iPhone\\sOS)\\s([\\d_]+)&#039;;
  var WEBOS = &#039;(web|hpw)OS[\\s\/]([\\d.]+)&#039;;

  // Full regexp to test the userAgent
  var MOBILE_OS_RE = new RegExp(
    ANDROID_RE + &#039;|&#039; +
    BLACKBERRY_RE + &#039;|&#039; +
    FIREFOXOS_RE + &#039;|&#039; +
    IPHONE_RE + &#039;|&#039; +
    IPAD_RE + &#039;|&#039; +
    WEBOS
  );

  var isMobile = null;

  var objectTypes = {};

  // Map object types
  Kimbo.forEach([ &#039;Array&#039;, &#039;Boolean&#039;, &#039;Date&#039;, &#039;Error&#039;, &#039;Function&#039;,
    &#039;Number&#039;, &#039;Object&#039;, &#039;RegExp&#039;, &#039;String&#039;
  ], function (type) {
      objectTypes[&#039;[object &#039; + type + &#039;]&#039;] = type.toLowerCase();
    }
  );

  Kimbo.extend({
    /*\
     * $.typeOf
     [ method ]
     * Determine the internal JavaScript [[Class]] of an object.
     &gt; Parameters
     - obj (object) Object to get its [[Class]] type.
     = (string) Type of the object.
     &gt; Usage
     | $.typeOf(&#039;i am a string&#039;); // &#039;string&#039;
     | $.typeOf(/(\.regexp?)/); // &#039;regexp&#039;
     | $.typeOf(null); // &#039;null&#039;
     | $.typeOf(undefined); // &#039;undefined&#039;
     | $.typeOf(window.notDefined); // &#039;undefined&#039;
     | $.typeOf(function () {}); // &#039;function&#039;
     | $.typeOf({key: &#039;value&#039;}); // &#039;object&#039;
     | $.typeOf(true); // &#039;boolean&#039;
     | $.typeOf([]); // &#039;array&#039;
     | $.typeOf(new Date()); // &#039;date&#039;
     | $.typeOf(3); // &#039;number&#039;
    \*/
    typeOf: function (obj) {
      var type;

      if (obj === null || obj === undefined) {
        type = String(obj);

      } else {
        type = (objectTypes[Object.prototype.toString.call(obj)] || &#039;object&#039;);
      }

      return type;
    },

    /*\
     * $.isArray
     [ method ]
     * Determine if the parameter passed is an array object.
     &gt; Parameters
     - obj (object) Object to test if its an array.
     = (boolean) According wether or not it is an array object.
     &gt; Usage
     | $.isArray([]); // True
     | $.isArray({}); // False
     | $.isArray(&#039;test&#039;); // False
    \*/
    isArray: Array.isArray,

    /*\
     * $.isNumeric
     [ method ]
     * Determine if the parameter passed is an number.
     &gt; Parameters
     - obj (object) Object to test if its a number.
     = (boolean) According wether or not it is a number.
     &gt; Usage
     | $.isNumeric(3); // True
     | $.isNumeric(&#039;3&#039;); // False
    \*/
    isNumeric: function (obj) {
      return !isNaN(parseFloat(obj)) &amp;&amp; isFinite(obj);
    },

    /*\
     * $.isWindow
     [ method ]
     * Determine if the parameter passed is the window object.
     &gt; Parameters
     - obj (object) Object to test if its the window object.
     = (boolean) According wether or not it is the window object.
     &gt; Usage
     | $.isWindow(window); // True
     | $.isWindow({ window: window }); // False
    \*/
    isWindow: function (obj) {
      return obj &amp;&amp; obj === obj.window;
    },

    /*\
     * $.isEmptyObject
     [ method ]
     * Determine if the parameter passed is an empty object.
     &gt; Parameters
     - obj (object) Object to test if its an empty object.
     = (boolean) According wether or not it is an empty object.
     &gt; Usage
     | $.isEmptyObject({}); // True
     | $.isEmptyObject([]); // True
     | $.isEmptyObject([1, 2]); // False
    \*/
    isEmptyObject: function (obj) {
      var key;

      for (key in obj) {
        if (obj.hasOwnProperty(key)) {
          return false;
        }
      }

      return true;
    },

    /*\
     * $.isMobile
     [ method ]
     * Determine if the current platform is a mobile device, (otherwise is a desktop browser).
     &gt; Parameters
     = (boolean) According wether or not is a mobile device.
     &gt; Usage
     | $.isMobile(); // False
    \*/
    isMobile: function () {

      // Check only once for the current browser
      if (isMobile === null) {
        isMobile = MOBILE_OS_RE.test(navigator.userAgent);
      }

      return isMobile;
    },

    /*\
     * $.parseJSON
     [ method ]
     * Parses a well-formed JSON string and returns the resulting JavaScript object.
     &gt; Parameters
     - data (string) The JSON string to parse.
     = (object) A JavaScript object.
     &gt; Usage
     | var obj = $.parseJSON(&#039;{&quot;name&quot;:&quot;Denis&quot;}&#039;);
     | console.log(obj.name === &#039;Denis&#039;); // True
    \*/
    parseJSON: function (data) {

      // Use native JSON parser
      if (data &amp;&amp; Kimbo.isString(data)) {
        return window.JSON.parse(data);
      }
    },

    /*\
     * $.parseXML
     [ method ]
     * Parses a string into an XML document.
     &gt; Parameters
     - data (string) The JSON string to parse.
     = (object) A JavaScript object.
     &gt; Usage
     | var xml = &quot;&lt;rss version=&#039;2.0&#039;&gt;&lt;channel&gt;&lt;title&gt;RSS Title&lt;/title&gt;&lt;/channel&gt;&lt;/rss&gt;&quot;
     | var xmlDoc = $.parseXML(xml);
     | $(xmlDoc).find(&#039;title&#039;); // &#039;RSS Title&#039;
    \*/
    parseXML: function (data) {

      // Use native XML (DOM) parser
      var domparser;
      var xml;

      if (data &amp;&amp; Kimbo.isString(data)) {
        domparser = new window.DOMParser();
        xml = domparser.parseFromString(data, &#039;text/xml&#039;);

        if (xml.getElementsByTagName(&#039;parsererror&#039;).length) {
          throw new Error(&#039;Invalid XML: &#039; + data);
        }

        return xml;
      }
    },

    /*\
     * $.map
     [ method ]
     * Translate all items in an array or object to new array of items.
     &gt; Parameters
     - obj (array|object) The Array or Object to translate.
     = (array) A new array.
     &gt; Usage
     | var arr = [&#039;a&#039;, &#039;b&#039;, &#039;c&#039;];
     | arr = $.map(arr, function (element, index) {
     |   return element.toUpperCase() + index;
     | });
     | console.log(arr); // [&#039;A0&#039;, &#039;B1&#039;, &#039;C2&#039;]
     * Or wit an object
     | var obj = {a: &#039;a&#039;, b: &#039;b&#039;, c: &#039;c&#039;};
     | obj = $.map(arr, function (key, value) {
     |   return key + &#039;: &#039; + value.toUpperCase();
     | });
     | console.log(obj); // [&#039;a: A&#039;, &#039;b: B&#039;, &#039;c: C&#039;]
    \*/
    map: function (obj, callback) {
      var values = [];

      if (obj) {
        Kimbo.forEach(obj, function (key, val) {
          var value = callback(key, val);

          if (value !== null &amp;&amp; value !== undefined) {
            values.push(value);
          }
        });
      }

      // Flatten any nested arrays
      return values.concat.apply([], values);
    },

    /*\
     * $.makeArray
     [ method ]
     * Create an Array from the given object
     &gt; Parameters
     - obj (array|object) The Array or Object to make an array from.
     = (array) A new array.
     &gt; Usage
     | var lis = $(&#039;li&#039;); // Kimbo object
     | var arr = $.makeArray(lis);
     |
     | console.log($.isArray(lis)); // False
     | console.log($.isArray(arr)); // True
    \*/
    makeArray: function (obj, results) {
      results = results || [];

      if (obj) {
        if (Kimbo.isArray(obj) || (obj instanceof Kimbo) || obj instanceof window.NodeList) {
          results = Kimbo.merge(results, obj);
        } else {
          _.push.call(results, obj);
        }
      }

      return results;
    },

    /*\
     * $.merge
     [ method ]
     * Merge the contents of two arrays into the first array passed.
     &gt; Parameters
     - first (array) The first array to merge the contents of the second.
     - second (array|string) The second array to merge into the first.
     = (array) The first array merged with the second.
     &gt; Usage
     | $.merge([&#039;a&#039;, &#039;b&#039;], [&#039;c&#039;, &#039;d&#039;]);
     * Result:
     | [&#039;a&#039;, &#039;b&#039;, &#039;c&#039;, &#039;d&#039;]
    \*/
    merge: function (first, second) {

      // Concat is very fast, use it if we can
      if (Kimbo.isArray(first)) {
        first = first.concat(second);

      // Kimbo object, do a consecutive push
      } else {
        _.push.apply(first, _.slice.call(second));
      }

      return first;
    },

    /*\
     * $.camelCase
     [ method ]
     * Camelize any dashed separated string
     &gt; Parameters
     - str (string) A dashed separated string value to transform into camelCase.
     = (string) camelCase string
     &gt; Usage
     | $.camelCase(&#039;background-color&#039;);
     * Result:
     | &#039;backgroundColor&#039;
    \*/
    camelCase: function (str) {
      return str.replace(/-+(.)?/g, function (wholeMatch, character) {
        return character.toUpperCase();
      });
    },

    /*\
     * $.isFunction
     [ method ]
     * Determine if the parameter passed is a Javascript function object.
     &gt; Parameters
     - obj (object) Object to test if its a function.
     = (boolean) According wether or not it is a function.
     &gt; Usage
     | var myFunction = function () {};
     | $.isFunction(myFunction); // True
     | var something = [&#039;lala&#039;, &#039;jojo&#039;];
     | $.isFunction(something); // False
    \*/
    isFunction: function (obj) {
      return Kimbo.typeOf(obj) === &#039;function&#039;;
    },

    /*\
     * $.isObject
     [ method ]
     * Determine if the parameter passed is a Javascript plain object.
     &gt; Parameters
     - obj (object) Object to test if its a plain object.
     = (boolean) According wether or not it is a plain object.
     &gt; Usage
     | $.isObject({}); // True
     | $.isObject([]); // False
     | $.isObject(&#039;test&#039;); // False
    \*/
    isObject: function (obj) {
      return Kimbo.typeOf(obj) === &#039;object&#039;;
    },

    /*\
     * $.isString
     [ method ]
     * Determine if the parameter passed is a string.
     &gt; Parameters
     - obj (object) Object to test if its a string.
     = (boolean) According wether or not it is a string.
     &gt; Usage
     | $.isString(&#039;test&#039;); // True
     | $.isString({ name: &#039;asd&#039; }); // False
    \*/
    isString: function (obj) {
      return Kimbo.typeOf(obj) === &#039;string&#039;;
    },

    /*\
     * $.isBoolean
     [ method ]
     * Determine if the parameter passed is boolean.
     &gt; Parameters
     - obj (object) Object to test if its boolean..
     = (boolean) According wether or not it is boolean.
     &gt; Usage
     | $.isBoolean(false); // True
     | $.isBoolean(3); // False
    \*/
    isBoolean: function (obj) {
      return Kimbo.typeOf(obj) === &#039;boolean&#039;;
    }
  });

  // Save reference to Kimbo wrapped document as the default context
  _.rootContext = _.kimbo(_.rootContext);
});</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ complexity.cyclomatic }} <br>
    Length : {{ complexity.halstead.length }} <br>
    Difficulty : {{ complexity.halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ complexity.halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
