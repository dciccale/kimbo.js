/*! kimbo v1.0.3 | http://kimbojs.com | https://github.com/dciccale/kimbo.js/blob/master/LICENSE.txt */
(function(e){"use strict";function t(e,n){var r;return t.isKimbo(this)?e?"string"==typeof e?(r=o.ID_RE.exec(e),r&&r[1]?(r=i.getElementById(r[1]),r&&(this[0]=r,this.length=1),this):(n=n?o.kimbo(n):o.rootContext,n.find(e))):e.nodeType?(this[0]=e,this.length=1,this):t.isFunction(e)?o.rootContext.ready(e):t.makeArray(e,this):this:new t(e,n)}var n={},i=e.document,o={push:Array.prototype.push,slice:Array.prototype.slice,rootContext:i,kimbo:function(e){return new t(e)}};t.fn=t.prototype={length:0,ready:function(e){var t;return/t/.test(i.readyState)?e.call(i):(t=function(){i.removeEventListener("DOMContentLoaded",t,!1),e()},i.addEventListener("DOMContentLoaded",t,!1)),o.rootContext},get:function(e){return this.length?arguments.length?0>e?this[this.length+e]:this.constructor(this[e]):o.slice.call(this):void 0},splice:Array.prototype.splice},t.forEach=function(e,t){var n,i=e.length,o=void 0===i||"function"==typeof e;if(o){for(n in e)if(e.hasOwnProperty(n)&&t.call(e[n],n,e[n],e)===!1)break}else for(n=0;i>n&&t.call(e[n],e[n],n,e)!==!1;n++);return e},t.extend=t.fn.extend=function(){var e=arguments,n=e[0]||{},i=n===!0,r=1;return i?(n=e[1]||{},r=2):1===e.length&&(n=this,r=0),e=o.slice.call(e,r),t.forEach(e,function(e){t.forEach(e,function(e,o){var r;i&&(t.isObject(o)||t.isArray(o))?(r=n[e],n[e]=t.extend(i,r,o)):void 0!==o&&(n[e]=o)})}),n},t.extend({require:function(e){return n[e]},define:function(e,t){n[e]=t(o)},ref:"kimbo"+("1"+Math.random()).replace(/\D/g,"")}),"function"==typeof e.define&&e.define.amd&&e.define("kimbo",[],function(){return t}),e.Kimbo=e.$=t})(window),Kimbo.define("query",function(e){"use strict";function t(t,n){var s,c=[];return c=t===document&&(s=i.exec(n))?t.getElementById(s[1]):(s=o.exec(n))?t.getElementsByClassName(s[1]):r.test(n)?t.getElementsByTagName(n):(s=a.exec(n))?t.getElementsByName(s[1]):t.querySelectorAll(n),e.slice.call(c)}function n(e,t){return e===window&&t&&(t===window||t.nodeType)||e&&e.nodeType&&t&&t.nodeType?e.contains?e.contains(t):!0:!1}var i=e.ID_RE=/^#([\w\-]+)$/,o=/^\.([\w\-]+)$/,r=/^[\w\-]+$/,a=/^\[name=["']?([\w\-]+)["']?\]$/;return{find:t,contains:n}}),Kimbo.define("data",function(){"use strict";var e={},t=1,n={get:function(t,n){var i,o=e[t.__dataId];return o?i=o[n]:(i=t.dataset[n],i&&this.set(t,n,i)),i},set:function(n,i,o){var r,a=n.__dataId;a||(a=n.__dataId=t++),r=e[a],r||(r=e[a]={}),r[i]=o},remove:function(t,n){void 0===n?e[t.__dataId]={}:delete e[t.__dataId][n]}};return Kimbo.fn.extend({data:function(e,t){return this.length&&Kimbo.isString(e)?(e=Kimbo.camelCase(e),void 0===t?n.get(this[0],e):this.each(function(i){n.set(i,e,t)})):this},removeData:function(e){return this.length?(e=e&&Kimbo.camelCase(e),this.each(function(t){n.remove(t,e)})):this}}),n}),Kimbo.define("css",function(){"use strict";function e(e,t){return t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),window.getComputedStyle(e,null).getPropertyValue(t)}var t=Kimbo.require("data"),n={fontWeight:!0,lineHeight:!0,opacity:!0,zIndex:!0};Kimbo.fn.extend({show:function(){return this.each(function(e){var n=t.get(e,"_display");e.style.display=n||"block"})},hide:function(){return this.each(function(n){var i=t.get(n,"_display");i?i=n.style.display:(i=e(n,"display"),t.set(n,"_display",i)),"none"!==i&&(n.style.display="none")})},css:function(t,i){var o,r=this;if(Kimbo.isString(t)){if(void 0===i)return this.length>0?e(this[0],t):void 0;o={},o[t]=i}return(o||Kimbo.isObject(t))&&(o=o||t,Kimbo.forEach(o,function(e,i){Kimbo.isNumeric(i)&&!n[Kimbo.camelCase(t)]&&(i+="px"),r.each(function(t){t.style[e]=i})})),this}})}),Kimbo.define("manipulation",function(e){"use strict";function t(e,t){return 1===e.nodeType&&e.classList.contains(t)}var n=/\s+/;Kimbo.forEach({text:"textContent",html:"innerHTML",val:"value"},function(e,t){Kimbo.fn[e]=function(e){return this[0]?void 0===e?this[0][t]:this.each(function(n){n[t]=e}):void 0}}),Kimbo.forEach(["add","remove"],function(e,t){var i=t>0;Kimbo.fn[e+"Class"]=function(t){var o;return t&&Kimbo.isString(t)?(o=t.split(n),this.each(function(t){1===t.nodeType&&Kimbo.forEach(o,function(n){t.classList[e](n)})})):!t&&i&&this.removeAttr("class"),this}}),Kimbo.forEach(["append","prepend"],function(t,n){var i=n>0;Kimbo.fn[t]=function(t){var n;return this.length&&t?(Kimbo.isString(t)&&(n=document.createElement("div"),n.innerHTML=t,t=n.firstChild),t.nodeType||Kimbo.isKimbo(t)?this.each(function(n){(1===n.nodeType||11===n.nodeType)&&e.kimbo(t).each(function(e){n.insertBefore(e,i?n.firstChild:null)})}):void 0):this}}),Kimbo.fn.extend({empty:function(){return this.each(function(e){for(;e.hasChildNodes();)e.removeChild(e.childNodes[0])})},remove:function(){return this.each(function(e){e.parentNode&&e.parentNode.removeChild(e)})},attr:function(e,t){return this.length?Kimbo.isString(e)&&void 0===t?this[0].getAttribute(e):this.each(function(n){n.setAttribute(e,t)}):this},removeAttr:function(e){return this.each(function(t){t.removeAttribute(e)})},toggleClass:function(i,o){var r;return this.length&&i&&Kimbo.isString(i)&&(r=i.split(n),this.each(function(n){Kimbo.forEach(r,function(i){o=Kimbo.isBoolean(o)?o:!t(n,i),e.kimbo(n)[o?"addClass":"removeClass"](i)})})),this},hasClass:function(e){var i,o=!1;return this.length&&e&&Kimbo.isString(e)&&(i=e.trim().split(n),this.each(function(e){Kimbo.forEach(i,function(n){return o=t(e,n),o?void 0:!1})})),o},clone:function(){return this.map(function(e){return e.cloneNode(!0)})}}),Kimbo.forEach(["width","height"],function(e){Kimbo.fn[e]=function(t){return t?this.css(e,t):parseInt(this.css(e),10)}})}),Kimbo.define("traversing",function(e){"use strict";function t(e,t){return e&&1===e.nodeType?s.call(e,t):!1}function n(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function i(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}function o(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}e.filter=Array.prototype.filter;var r=Kimbo.require("query"),a={children:!0,contents:!0,next:!0,prev:!0},s=document.documentElement.webkitMatchesSelector||document.documentElement.mozMatchesSelector||document.documentElement.oMatchesSelector||document.documentElement.matchesSelector;Kimbo.fn.extend({filter:function(n){var i;return i=e.filter.call(this,function(e,i){var o;return Kimbo.isFunction(n)?o=!!n.call(e,i,e):Kimbo.isString(n)?o=t(e,n):n.nodeType?o=e===n:Kimbo.isKimbo(n)&&(o=e===n[0]),o}),e.kimbo(i)},eq:function(e){return this.length&&-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.length&&e.kimbo(e.slice.apply(this,arguments))},each:function(e){return Kimbo.forEach(this,e)},map:function(t){return e.kimbo(Kimbo.map(this,function(e,n){return t.call(e,e,n)}))},find:function(t){var n,i,o,a,s,c,u;for(c=e.kimbo(),n=0,i=this.length;i>n;n++)if(o=c.length,u=r.find(this[n],t),e.push.apply(c,u),n)for(a=o;c.length>a;a++)for(s=0;o>s;s++)if(c[s]===c[a]){c.splice(a--,1);break}return c},closest:function(i,o){var r=this.length,a=[],s=function(e){for(;e&&!t(e,i);)e=e!==o&&e!==document&&e.parentNode;return e};return r?(1===r?a=s(this[0]):(Kimbo.forEach(this,function(e){e=s(e),e&&a.push(e)}),a=a.length>1?n(a):a),e.kimbo(a)):this},contains:function(e){return e=Kimbo.isKimbo(e)?e[0]:Kimbo.isString(e)?this.find(e)[0]:e,r.contains(this[0],e)},add:function(t,n){var i=Kimbo.isString(t)?e.kimbo(t,n):Kimbo.makeArray(t&&t.nodeType?[t]:t),o=Kimbo.merge(this,i);return e.kimbo(o)},is:function(e){return!(!this.length||!this.filter(e).length)}}),Kimbo.forEach({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},siblings:function(e){return i((e.parentNode||{}).firstChild,e)},children:function(e){return i(e.firstChild)},contents:function(e){return"iframe"===e.nodeName.toLowerCase()?e.contentDocument||e.contentWindow[document]:Kimbo.makeArray(e.childNodes)}},function(t,i){Kimbo.fn[t]=function(o){if(!this.length)return this;var r=Kimbo.map(this,i);return r=this.length>1&&!a[t]?n(r):r,Kimbo.isString(o)&&(r=e.kimbo(r).filter(o)),e.kimbo(r)}})}),Kimbo.define("utilities",function(e){"use strict";var t={android:/(Android)\s+([\d.]+)/,blackberry:/(BlackBerry|BB10|Playbook).*Version\/([\d.]+)/,firefoxos:/(Mozilla).*Mobile[^\/]*\/([\d\.]*)/,ipad:/(iPad).*OS\s([\d_]+)/,iphone:/(iPhone\sOS)\s([\d_]+)/,webos:/(web|hpw)OS[\s\/]([\d.]+)/},n=null,i={};Kimbo.forEach(["Array","Boolean","Date","Function","Number","Object","RegExp","String"],function(e){i["[object "+e+"]"]=e.toLowerCase()}),Kimbo.extend({typeOf:function(e){return null===e||void 0===e?e+"":i[Object.prototype.toString.call(e)]||"object"},isArray:Array.isArray,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isWindow:function(e){return e&&e===e.window},isKimbo:function(e){return e instanceof Kimbo},isEmptyObject:function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},isMobile:function(){return null===n&&(n=!1,Kimbo.forEach(t,function(e,t){return t.test(navigator.userAgent)?!(n=!0):void 0})),n},parseJSON:function(e){return e&&Kimbo.isString(e)?window.JSON.parse(e):void 0},parseXML:function(e){var t,n;if(e&&Kimbo.isString(e)){if(t=new window.DOMParser,n=t.parseFromString(e,"text/xml"),n.getElementsByTagName("parsererror").length)throw Error("Invalid XML: "+e);return n}},map:function(e,t){var n,i=[];return e&&Kimbo.forEach(e,function(e,o){n=t(e,o),null!==n&&void 0!==n&&i.push(n)}),i.concat.apply([],i)},makeArray:function(t,n){return n=n||[],t&&(Kimbo.isArray(t)||Kimbo.isKimbo(t)||t instanceof window.NodeList?n=Kimbo.merge(n,t):e.push.call(n,t)),n},merge:function(t,n){return Kimbo.isArray(t)?t=t.concat(n):e.push.apply(t,e.slice.call(n)),t},camelCase:function(e){return e.replace(/-+(.)?/g,function(e,t){return t.toUpperCase()})}}),Kimbo.forEach(["Function","Object","String","Boolean"],function(e){var t=e.toLowerCase();Kimbo["is"+e]=function(e){return Kimbo.typeOf(e)===t}}),e.rootContext=e.kimbo(e.rootContext)}),Kimbo.define("events",function(e){"use strict";function t(e){var t,n,i;return e[Kimbo.ref]?e:(t=e,n=K[e.type]||[],i=p.concat(n),e=new Kimbo.Event(t),Kimbo.forEach(i,function(n){e[n]=t[n]}),e)}function n(e){return e._guid||(e._guid=m++)}function i(e,t){var n=(v[e]||{}).events||{};return(t?n[t]:n)||[]}function o(t,n,i){return t.nodeName.toLowerCase()===n||e.kimbo(t).closest(n,i)[0]}function r(){return!1}function a(){return!0}function s(e,t,i,o,r){var a,s,c,u,f=n(e),m=v[f],d=t;t=w[t]?w[t].origType:t,m||(v[f]=m={}),a=m.events,a||(m.events=a={}),u=m.handler,u||(m.handler=u=function(){return l.apply(e,arguments)}),c={type:t,origType:d,data:o,callback:i,selector:r},s=a[t],s||(s=a[t]=[],s.delegateCount=0,e.addEventListener&&e.addEventListener(t,u,!1)),r?(s.delegateCount++,s.unshift(c)):s.push(c)}function c(e,t,o,r){var a,s,u,l,f=n(e);if(f){if(s=i(f,t),t&&!s.length)return;if(!t)for(u in s)if(s.hasOwnProperty(u))return c(e,u,o,r);for(l=0;s.length>l;l++)a=s[l],o&&o!==a.callback||r&&r!==a.selector||(s.splice(l--,1),a.selector&&s.delegateCount--);s.length||(e.removeEventListener(t,v[f].handler,!1),delete v[f].events[t]),Kimbo.isEmptyObject(v[f].events)&&(delete v[f],delete e._guid)}}function u(e,t,n){var o,r,a,s,c;if(e&&(3===e.nodeType||8===e.nodeType)||!t||!Kimbo.isString(t))return this;if("focus"===t||"blur"===t)try{return e[t]()}catch(u){}if(c=new Kimbo.Event(t),c.isTrigger=!0,c.target||(c.target=e),n=n?Kimbo.makeArray(n):[],n.unshift(c),a=[[e,t]],!Kimbo.isWindow(e)){for(o=e.parentNode;o;o=o.parentNode)a.push([o,t]),r=o;r&&r===e.ownerDocument&&a.push([window,t])}Kimbo.forEach(a,function(e){o=e[0],c.type=e[1],s=o._guid,s&&i(s,t)&&v[s].handler.apply(o,n)})}function l(r){r=t(r);var a,s,c,u,l,f,m,d=n(this),h=i(d,r.type),p=h.delegateCount,b=e.slice.call(arguments,0),g=[];if(b[0]=r,r.delegateTarget=this,p)for(a=r.target;a!==this;a=a.parentNode||this)if(a.disabled!==!0||"click"!==r.type){for(c={},u=[],m=0;p>m;m++)l=h[m],f=l.selector,c[f]||(c[f]=o(a,f,this)),c[f]&&u.push(l);u.length&&g.push({elem:a,matches:u})}h.length>p&&g.push({elem:this,matches:h.slice(p)}),Kimbo.forEach(g,function(e){r.isPropagationStopped()||(r.currentTarget=e.elem,Kimbo.forEach(e.matches,function(t){r.isImmediatePropagationStopped()||(r.data=t.data,r.handleObj=t,s=((w[t.origType]||{}).handle||t.callback).apply(e.elem,b),s===!1&&(r.preventDefault(),r.stopPropagation()))}))})}var f=Kimbo.require("query"),m=1,d=/^(?:mouse|menu)|click/,h=/^key/,p=["altKey","bubbles","cancelable","ctrlKey","currentTarget","defaultPrevented","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","type","view","which"],b=["button","buttons","clientX","clientY","fromElement","offsetX","offsetY","screenX","screenY","toElement"],g=["char","charCode","key","keyCode"],y=Kimbo.isMobile()?{}:{touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",touch:"click",doubletap:"dblclick",orientationchange:"resize"},v={},K={},w={};Kimbo.Event=function(e){e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?a:r):this.type=e,this.timeStamp=e&&e.timeStamp||Date.now(),this[Kimbo.ref]=!0},Kimbo.Event.prototype={isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r,preventDefault:function(){this.isDefaultPrevented=a,this.isTrigger||this.originalEvent.preventDefault()},stopPropagation:function(){this.isPropagationStopped=a,this.isTrigger||this.originalEvent.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.isTrigger||this.originalEvent.stopImmediatePropagation()}},Kimbo.fn.extend({on:function(e,t,n,i){return n||i?i||(Kimbo.isString(t)?(i=n,n=void 0):(i=n,n=t,t=void 0)):(i=t,n=t=void 0),i?(e=y[e]||e,this.each(function(o){s(o,e,i,n,t)})):this},off:function(e,t,n){return Kimbo.isFunction(t)&&(n=t,t=void 0),this.each(function(i){c(i,e,n,t)})},trigger:function(e,t){return this.each(function(n){u(n,e,t)})},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Kimbo.forEach(["blur","change","click","contextmenu","dblclick","error","focus","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseup","mouseover","resize","scroll","select","submit","unload"],function(e){Kimbo.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)},K[e]=h.test(e)?g:d.test(e)?b:null}),Kimbo.forEach({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){w[e]={origType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return(!o||o!==i&&!f.contains(i,o))&&(e.type=r.origType,n=r.callback.apply(this,arguments),e.type=t),n}}})}),Kimbo.define("ajax",function(){"use strict";function e(e,t){return c[t]?c[t](e):e}function t(t,i){var o,r;i.dataType||(r=t.getResponseHeader("Content-Type"),Kimbo.forEach(s,function(e,t){return t.match(r)?(i.dataType=e,!1):void 0}),n(i));try{o=e(t.responseText,i.dataType)}catch(a){o=!1,u.error("parseerror",a,t,i)}return o}function n(e){e.crossDomain||e.headers["X-Requested-With"]||(e.headers["X-Requested-With"]="XMLHttpRequest"),e.contentType&&(e.headers["Content-Type"]=e.contentType),e.headers.Accept=s[e.dataType]||"*/*"}function i(e,t){e.onreadystatechange=null,e.abort(),u.error("error","timeout",e,t)}function o(e,t){return window.setTimeout(function(){i(e,t)},t.timeout)}function r(e){var t,i=Kimbo.ref+"_"+Date.now(),r=document.createElement("script"),s=document.head,c={abort:function(){window.clearTimeout(t),s.removeChild(r),delete window[i]}};return e.timeout>0&&(t=o(c,e)),r.src=e.url.replace(a,"$1"+i+"$2"),window[i]=function(t){c.abort(),Kimbo.extend(c,{statusText:"OK",status:200,response:t,headers:e.headers}),u.success(t,c,e)},n(e),s.appendChild(r),c}var a=/(\=)\?(&|$)|\?\?/i,s={html:"text/html",json:"application/json",script:"text/javascript, application/javascript",text:"text/plain",xml:"application/xml, text/xml"},c={json:Kimbo.parseJSON,xml:Kimbo.parseXML},u={};Kimbo.forEach(["success","error"],function(e){u[e]=function(t,n,i,o){o=o||i,Kimbo.isFunction(o[e])&&o[e].apply(o.context,arguments)}}),Kimbo.ajaxSettings={type:"GET",async:!0,success:{},error:{},context:null,headers:{},data:null,crossDomain:!1,timeout:0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",xhr:function(){return new window.XMLHttpRequest}},Kimbo.ajax=function(e){var i,s,c,l=Kimbo.extend({},Kimbo.ajaxSettings,e);return l.data&&(l.url+=(/\?/.test(l.url)?"&":"?")+Kimbo.param(l.data),delete l.data),l.context||(l.context=l),a.test(l.url)?r(l):(i=l.xhr(),l.timeout>0&&(s=o(i,l)),c=function(){var e,n;4===i.readyState&&(n=i.status,window.clearTimeout(s),n>=200&&300>n||304===n?l.async&&(e=t(i,l),e!==!1&&u.success(e,i,l)):u.error("error",i.statusText,i,l))},i.onreadystatechange=c,i.open(l.type,l.url,l.async),n(l),Kimbo.forEach(l.headers,function(e,t){i.setRequestHeader(e,t)}),i.send(l.data),l.async?i:c())},Kimbo.forEach(["get","post"],function(e){Kimbo[e]=function(t,n,i,o){return Kimbo.isFunction(n)&&(o=o||i,i=n,n=null),Kimbo.ajax({type:e.toUpperCase(),url:t,data:n,success:i,dataType:o})}}),Kimbo.extend({getScript:function(e,t){return Kimbo.get(e,t,"script")},getJSON:function(e,t,n){return Kimbo.get(e,t,n,"json")}}),Kimbo.param=function(e){var t="";return Kimbo.isObject(e)?Kimbo.forEach(e,function(e,n){t+=e+"="+n+"&"}):t=e,window.encodeURIComponent(t).replace(/%20/g,"+").replace(/%\d[D6F]/g,window.unescape).replace(/^\?|&$/g,"")}});
//@ sourceMappingURL=dist/kimbo.sourcemap.js